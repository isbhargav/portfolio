{
  
    
        "post0": {
            "title": "Matplotlib Guide - p2",
            "content": "import numpy as np import matplotlib.pyplot as plt plt.style.use(&#39;ggplot&#39;) . Line Plot . One of the simplest types of plots in Matplotlib is line, which draws a line defined by a function, such as y=f(x) . Properties of Line plot . x,y: Data points, horizontal and vertical. Typically, these parameters are 1D arrays. | fmt: A format string, e.g. ‘ro’ for red circles. We will later discuss this parameter in greater depth. fmt = &#39;[marker][line][color]&#39; | label: A string, which can be used in the legend. | linestyle: The style of the line, which can be ‘-’, ‘–’, ‘-.’, or &#39;:&#39; | linewidth: The width of the line. | marker: Marker style | color: Marker color | . Line Styles . ‘-’: solid line style| | ‘–’: dashed line style| | ‘-.’: dash-dot line style| | ‘:’: dotted line style| | Color . ‘b’ : blue | ‘g’ : green | ‘r’ : red | ‘c’ : cyan | ‘m’ : magenta | ‘y’ : yellow | ‘b’ : black | ‘w’ : white | Marker . ‘.’: point marker | ‘o’: circle marker | ‘v’: triangle_down marker | ‘^’: triangle_up marker | ‘*’: star marker | ‘s’: square marker | ‘+’: plus marker | x = np.linspace(-4,4,200) fig,ax = plt.subplots() ax.plot(x,np.sin(x)) . [&lt;matplotlib.lines.Line2D at 0x7f4053096eb8&gt;] . fig,ax = plt.subplots() ax.plot(x,np.sin(x),x,np.cos(x)) . [&lt;matplotlib.lines.Line2D at 0x7f405276cba8&gt;, &lt;matplotlib.lines.Line2D at 0x7f4052795160&gt;] . fig, axe = plt.subplots(dpi=100) axe.plot(x, x + 2, linestyle=&#39;-&#39;, color=&#39;r&#39;, marker=&#39;x&#39;, label=&quot;line1&quot;) axe.plot(x, x + 3, linestyle=&#39;-&#39;, color=&#39;c&#39;, marker=&#39;s&#39;, label=&quot;line2&quot;) axe.plot(x, x + 4, linestyle=&#39;-&#39;, color=&#39;m&#39;, marker=&#39;|&#39;, label=&quot;line3&quot;) axe.plot(x, x + 5, linestyle=&#39;--&#39;, color=&#39;b&#39;, label=&quot;line4&quot;) axe.plot(x, x + 6, linestyle=&#39;-.&#39;, color=&#39;y&#39;, label=&quot;line5&quot;) axe.plot(x, x + 7, linestyle=&#39;:&#39;, color=&#39;b&#39;, label=&quot;line6&quot;) axe.legend() . &lt;matplotlib.legend.Legend at 0x7f4052296390&gt; . Scatter Plot . A scatter plot is used to plot data points on a figure based on the horizontal and vertical axes. Scatter plots can be used to show the relationship between two variables. They can also show how data clusters in a dataset. We can use scatter to show the relationship between variables, or to show the distribution of data. . Properties of Scatter plot . x,y: Data points, horizontal and vertical. Commonly, these * parameters are 1D arrays. | s: A scalar or array, used to set the size of the marker. | c: A single color string or a sequence of colors, used to set the color of the marker. | marker: Sets the shape of the marker. We went over a marker list in the previous lesson… | cmp: Colormap is a way to map color, used only when c is an array of float. | alpha: The blending value, which we can set between 0 (transparent) and 1 (opaque). | . rng = np.random.RandomState(32) x = rng.randn(50) y = rng.randn(50) fig,ax = plt.subplots(dpi=200) colors = rng.randn(50) size = rng.randn(50)*500 # ax.grid() ax.set_xlabel(&#39;Your X label&#39;) ax.set_ylabel(&#39;Your Y label&#39;) ax.set_title(&#39;Title of Graph&#39;) ax.scatter(x=x,y=y,c=colors,s=size,alpha=0.5) . /usr/local/lib/python3.6/dist-packages/matplotlib/collections.py:885: RuntimeWarning: invalid value encountered in sqrt scale = np.sqrt(self._sizes) * dpi / 72.0 * self._factor . &lt;matplotlib.collections.PathCollection at 0x7f40521b0a20&gt; . Bar Chart . Bar chart are used to display values associated with categorical data. . Properties of Bar chart . x : Controls the sequence of scalars, or the x coordinates of the bars. | height : Controls the sequence of scalars, or the heights of the bars. In short, this parameter displays the value(s) of our data. | width : Sets the width of the bar. The default value is 0.8. | bottom : Sets the y coordinate(s) of the bases of the bars. The default value is 0. | color : Sets the color of the bar faces. | orientation : Determines the orientation of the bars, {‘vertical’, ‘horizontal’}. The default value is ‘vertical’. | . fig, ax= plt.subplots(dpi=200) label = [&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Aug&quot;] values = [100, 200, 300, 150, 440, 700, 350, 505] ax.bar(label, values) . &lt;BarContainer object of 8 artists&gt; . More than One bar in a chart . Many times, multiple sets of data are bound to the same variable. In these cases, we need to show the data together on the same chart for comparison. On a bar chart, we can do this by using two sets of bars. . label = [&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Aug&quot;] values1 = [100, 200, 300, 150, 440, 700, 350, 505] values2 = [200, 250, 360, 180, 640, 780, 520, 580] values3 = [100, 200, 300, 150, 440, 700, 350, 505] index = np.arange(len(label)) fig,ax = plt.subplots(dpi=200) ax.bar(index,values1,width=0.3) ax.bar(index+0.3,values2,width=0.3) ax.bar(index+0.6,values3,width=0.3) ax.set_xticks(index+0.3) ax.set_xticklabels(label) . [Text(0, 0, &#39;Jan&#39;), Text(0, 0, &#39;Feb&#39;), Text(0, 0, &#39;Mar&#39;), Text(0, 0, &#39;Apr&#39;), Text(0, 0, &#39;May&#39;), Text(0, 0, &#39;Jun&#39;), Text(0, 0, &#39;Jul&#39;), Text(0, 0, &#39;Aug&#39;)] . Stacked Bar Chart . Stacking the bars is a useful feature that allows us to stack multiple bars on top of each other. . label = [&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Aug&quot;] values1 = np.array([100, 200, 300, 150, 440, 700, 350, 505]) values2 = np.array([200, 250, 360, 180, 640, 780, 520, 580]) values3 = np.array([100, 200, 300, 150, 440, 700, 350, 505]) index = np.arange(len(label)) fig,ax = plt.subplots(dpi=100) ax.bar(index,values1) ax.bar(index,values2,bottom=values1) ax.bar(index,values3,bottom=values1+values2) ax.set_xticks(index) ax.set_xticklabels(label) . [Text(0, 0, &#39;Jan&#39;), Text(0, 0, &#39;Feb&#39;), Text(0, 0, &#39;Mar&#39;), Text(0, 0, &#39;Apr&#39;), Text(0, 0, &#39;May&#39;), Text(0, 0, &#39;Jun&#39;), Text(0, 0, &#39;Jul&#39;), Text(0, 0, &#39;Aug&#39;)] . Horizontal Bar Chart . When you have many catogaries its better to represent bar chart in horizontal format. . fig, axe = plt.subplots(dpi=100) label = [&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Aug&quot;] index = np.arange(len(label)) values1 = [100, 200, 300, 150, 440, 700, 350, 505] values2 = [200, 250, 360, 180, 640, 780, 520, 580] axe.barh(index, values1) axe.barh(index, values2, left=values1) axe.set_yticks(index) axe.set_yticklabels(label) . [Text(0, 0, &#39;Jan&#39;), Text(0, 0, &#39;Feb&#39;), Text(0, 0, &#39;Mar&#39;), Text(0, 0, &#39;Apr&#39;), Text(0, 0, &#39;May&#39;), Text(0, 0, &#39;Jun&#39;), Text(0, 0, &#39;Jul&#39;), Text(0, 0, &#39;Aug&#39;)] . Error Bar . Error bars are graphical representations of the variability of data. They are used to indicate the error or uncertainty in a reported measurement. Error bars give a general idea of how precise a measurement is. For example, say we want to give a prediction about car sales for the next 12 months, but we are not 100% sure about our prediction. In order to indicate this uncertainty, we would provide a relative possible error. Error bars often represent one standard deviation of uncertainty, one standard error, or a particular confidence interval (e.g., a 95% confidence interval). . Properties of Error Bar . x,y: Defines the data location. | xerr,yerr: Sets the corresponding error to x, y. | fmt: Sets the format for the data points/data lines. | ecolor: Sets the color of the error line. | elinewidth: Sets the line width of the error bar. | uplims,lolims: It can be True or False. The default value is False. These arguments can be used to indicate that value gives only upper/lower limits. | capsize: Sets the length of the error bar caps in points. | . x = np.linspace(1, 10, num=10) y = 2 * np.sin(x/20 * np.pi) yerr = np.random.normal(0, 0.3, 10) fig, axe = plt.subplots(dpi=100) axe.errorbar(x, y, yerr=yerr) axe.errorbar(x, y+1, yerr=yerr) axe.errorbar(x, y+2, yerr=yerr, fmt=&quot;-o&quot;) . &lt;ErrorbarContainer object of 3 artists&gt; . labels = [&quot;dog&quot;, &quot;fish&quot;, &quot;cat&quot;, &quot;bird&quot;, &quot;sheep&quot;, &quot;horse&quot;] values = [10, 8, 12, 7, 5, 9] yerr = [1, 2, 3, 1, 2, 3] fig, axe = plt.subplots(1,2,dpi=100,figsize=(20,10)) axe[0].bar(np.arange(0, len(labels)), values, label=labels, yerr=yerr, alpha=0.7, ecolor=&#39;r&#39;, capsize=8) axe[0].set_xticks(np.arange(0, len(labels))) axe[0].set_xticklabels(labels) axe[1].errorbar(labels,values,yerr=yerr) . &lt;ErrorbarContainer object of 3 artists&gt; . Histogram . The histogram is an important graph in statistics and data analysis. It can be used to help people quickly understand the distribution of data. In order to draw a histogram, we follow the steps outlined below: . Step 1: Bin the range of your data. Step 2: Divide the entire range of values into their corresponding bins. Step 3: Count how many values fall into each different bin . Properties of Histogram . x : Our input values, either a single list/array or multiple sequences of arrays. | bins : If bins is set with an integer, it will define the number of equal-width bins within a range. If bins is set with a sequence, it will define the bin edges, including the left edge of the first bin and the right edge of the last bin. | histtype : Sets the style of the histogram. The default value is bar. step generates a line plot that is unfilled by default. stepfilled generates a line plot that is filled by default. | density : Sets True or False. The default is set to False. If True, the histogram will be normalized to form a probability density. | cumulative : Sets True or -1. If True, then a histogram is computed where each bin gives the count in that bin plus all bins for smaller values. | . data = np.random.randn(2000) fig,ax = plt.subplots(dpi=100) ax.hist(data,bins=10) . (array([ 9., 80., 240., 487., 533., 416., 180., 47., 7., 1.]), array([-3.1873996 , -2.46062252, -1.73384544, -1.00706837, -0.28029129, 0.44648578, 1.17326286, 1.90003993, 2.62681701, 3.35359409, 4.08037116]), &lt;a list of 10 Patch objects&gt;) . fig, axe = plt.subplots(nrows=2, ncols=2, dpi=200) plt.tight_layout() axe[0][0].hist(data, bins=30) axe[0][0].set_title(&quot;set bins=30&quot;) axe[0][1].hist(data, density=True) axe[0][1].set_title(&quot;normalized&quot;) axe[1][0].hist(data, color=&quot;r&quot;) axe[1][0].set_title(&quot;set color as red&quot;) axe[1][1].hist(data, histtype=&#39;step&#39;) axe[1][1].set_title(&quot;step&quot;) . Text(0.5, 1.0, &#39;step&#39;) . data1 = np.random.normal(0, 1, 3000) data2 = np.random.normal(-2.6, 1.8, 3000) data3 = np.random.normal(2.4, 1.5, 3000) fig, axe = plt.subplots(dpi=800) axe.hist(data1, bins=40, density=True, histtype=&#39;stepfilled&#39;, alpha=0.3, label=&quot;mu=0,std=1&quot;) axe.hist(data2, bins=40, density=True, histtype=&#39;stepfilled&#39;, alpha=0.3, label=&quot;mu=-2.6,std=1.8&quot;) axe.hist(data3, bins=40, density=True, histtype=&#39;stepfilled&#39;, alpha=0.3, label=&quot;mu=2.4,std=1.5&quot;) axe.legend() . &lt;matplotlib.legend.Legend at 0x7f404dad5588&gt; . Box Plot . A boxplot is a standardized way of displaying a dataset based on a five-number summary: the minimum, the maximum, the sample median, and the first and third quartiles. In statistics, the boxplot is a method for graphically depicting groups of numerical data through their quartiles. . Properties of Box plot . x : Array or a sequence of vectors. The input data. | vert : Set as True or False. The default value is True, which displays the boxes vertically. | labels : Sets the labels for each dataset. | notch : Set as True or False. the default value is False. If True, the parameter will produce a notched box plot. | widths : Sets the width of the box. | patch_artist : Set as True or False. the default value is False. If False, the parameter will produce boxes with the Line2D artist. Otherwise, the boxes will be drawn with Patch artists. | . labels = [&quot;Sun&quot;, &quot;Moon&quot;, &quot;Jupiter&quot;, &quot;Venus&quot;] values = [] values.append(np.random.normal(100, 10, 200)) values.append(np.random.normal(90, 20, 200)) values.append(np.random.normal(120, 25, 200)) values.append(np.random.normal(130, 30, 200)) fig, axe = plt.subplots(dpi=100) axe.boxplot(values, labels=labels) plt.show() . Customizing Box plot . boxprops: We can specify the style of the box. | whiskerprops: We can specify the style of the whisker, which is the line that connects the quartiles to the minimum/maximum. | medianprops: We can specify the style of the median (the line that indicates the median). | . labels = [&quot;Sun&quot;, &quot;Moon&quot;, &quot;Jupiter&quot;, &quot;Venus&quot;] values = [] values.append(np.random.normal(100, 10, 200)) values.append(np.random.normal(90, 20, 200)) values.append(np.random.normal(120, 25, 200)) values.append(np.random.normal(130, 30, 200)) fig, axe = plt.subplots(dpi=100) axe.boxplot(values, labels=labels,patch_artist=True, boxprops=dict(facecolor=&#39;teal&#39;, color=&#39;r&#39;)) plt.show() . Heat Maps . heatmap is a useful chart that we can use to show the relationship between two variables. Heatmap displays a general view of numerical data; it does not extract specific data points. It is a graphical representation of data where the individual values contained in a matrix are represented as colors. They can also be used to visualize missing values in data. . In order to create a heatmap, we can pass a 2-D array to imshow(). As we can see in the code below, passing the values to imshow is the core operation of the plot. . xlabels = [&quot;dog&quot;, &quot;cat&quot;, &quot;bird&quot;, &quot;fish&quot;, &quot;horse&quot;] ylabels = [&quot;red&quot;, &quot;blue&quot;, &quot;yellow&quot;, &quot;pink&quot;, &quot;green&quot;] values = np.array([[0.8, 1.2, 0.3, 0.9, 2.2], [2.5, 0.1, 0.6, 1.6, 0.7], [1.1, 1.3, 2.8, 0.5, 1.7], [0.2, 1.2, 1.7, 2.2, 0.5], [1.4, 0.7, 0.3, 1.8, 1.0]]) fig, axe = plt.subplots(dpi=100) axe.set_xticks(np.arange(len(xlabels))) axe.set_yticks(np.arange(len(ylabels))) axe.set_xticklabels(xlabels) axe.set_yticklabels(ylabels) im = axe.imshow(values) plt.show() . xlabels = [&quot;dog&quot;, &quot;cat&quot;, &quot;bird&quot;, &quot;fish&quot;, &quot;horse&quot;] ylabels = [&quot;red&quot;, &quot;blue&quot;, &quot;yellow&quot;, &quot;pink&quot;, &quot;green&quot;] values = np.array([[0.8, 1.2, 0.3, 0.9, 2.2], [2.5, 0.1, 0.6, 1.6, 0.7], [1.1, 1.3, 2.8, 0.5, 1.7], [0.2, 1.2, 1.7, 2.2, 0.5], [1.4, 0.7, 0.3, 1.8, 1.0]]) fig, axe = plt.subplots(dpi=300) axe.set_xticks(np.arange(len(xlabels))) axe.set_yticks(np.arange(len(ylabels))) axe.set_xticklabels(xlabels) axe.set_yticklabels(ylabels) im = axe.imshow(values) for i in range(len(xlabels)): for j in range(len(ylabels)): text = axe.text(i, j, values[i, j], horizontalalignment=&quot;center&quot;, verticalalignment=&quot;center&quot;, color=&quot;w&quot;) . Add a color bar to the heatmap . Although we have added some text to the chart, we still want to include a special legend to show the relationship between a color and its value. Colorbar is what we need. As we can see in the example code below, all we have to do is call axes.figure.colorbar() . xlabels = [&quot;dog&quot;, &quot;cat&quot;, &quot;bird&quot;, &quot;fish&quot;, &quot;horse&quot;] ylabels = [&quot;red&quot;, &quot;blue&quot;, &quot;yellow&quot;, &quot;pink&quot;, &quot;green&quot;] values = np.array([[0.8, 1.2, 0.3, 0.9, 2.2], [2.5, 0.1, 0.6, 1.6, 0.7], [1.1, 1.3, 2.8, 0.5, 1.7], [0.2, 1.2, 1.7, 2.2, 0.5], [1.4, 0.7, 0.3, 1.8, 1.0]]) fig, axe = plt.subplots(dpi=100) axe.set_xticks(np.arange(len(xlabels))) axe.set_yticks(np.arange(len(ylabels))) axe.set_xticklabels(xlabels) axe.set_yticklabels(ylabels) im = axe.imshow(values) for i in range(len(xlabels)): for j in range(len(ylabels)): text = axe.text(i, j, values[i, j], horizontalalignment=&quot;center&quot;, verticalalignment=&quot;center&quot;, color=&quot;w&quot;) axe.figure.colorbar(im, ax=axe) . &lt;matplotlib.colorbar.Colorbar at 0x7f404d802320&gt; . Drawing Spider chart . The Spider chart is useful in showing relative values for a single data point, or for comparing two or more items as they relate to various categories. Unlike many of the other plot types we’ve learned about, Matplotlib doesn’t provide a radar function. In order to draw a radar chart, we need to write the code ourselves. . Steps to Radar Chart . Step 1: Calculate the angle for the value of each category. We begin by assigning each category value an angle. The angles are accumulated according to the order in which they occur. | Step 2: Append the first item to the last, making the circular graph close. | Step 3: Set the coordinate system as polar for your figure. | Step 4: Use the plot() function to plot. We use plot() here in the same way that we used it in the lesson How to Draw a Line Plot. | Step 5: Fill the area. This step is optional. | import math labels = [&quot;Sun&quot;, &quot;Moon&quot;, &quot;Jupiter&quot;, &quot;Venus&quot;, &quot;Mars&quot;, &quot;Mecury&quot;] values=[10,8,4,5,2,7] angles = [n/float(len(labels)) * 2 *math.pi for n in range(len(labels))] # Append first value to last to create circular connection values.append(values[0]) angles.append(angles[0]) fig,ax = plt.subplots(subplot_kw=dict(polar=True),dpi=200) ax.set_xticks(angles[:-1]) ax.set_xticklabels(labels) ax.plot(angles,values) ax.fill(angles,values,&#39;skyblue&#39;,alpha=0.4) plt.show() . labels = [&quot;Sun&quot;, &quot;Moon&quot;, &quot;Jupiter&quot;, &quot;Venus&quot;, &quot;Mars&quot;, &quot;Mecury&quot;] values = [10, 8, 4, 5, 2, 7] values2 = [3, 7, 2, 8, 5, 9] values += values[:1] values2 += values2[:1] angles = [n / float(len(labels)) * 2 * math.pi for n in range(len(labels))] angles += angles[:1] fig, axe = plt.subplots(subplot_kw=dict(polar=True), dpi=200) axe.set_xticks(angles[:-1]) axe.set_xticklabels(labels, color=&#39;r&#39;) axe.plot(angles, values) axe.fill(angles, values, &#39;skyblue&#39;, alpha=0.4) axe.plot(angles, values2) axe.fill(angles, values2, &#39;teal&#39;, alpha=0.4) plt.show() . Drawing color bars . The simplest way to draw a color bar is by calling colorbar(). . Notice:: In our other lessons, most of the functions are called from the axes object. In this lesson, the colorbar() is called from the figure object. Let’s see some of the parameters required by colorbar. . `mappable`: The matplotlib.cm.ScalarMappable described by the colorbar. `cax`: The axes object onto which the color bar will be drawn. . What is matplotlib.cm.ScalarMappable? . In short, ScalarMappable is a class to map scaler data to RGBA. This class requires two parameters: . `norm`: A normalize class, which typically maps a range number to the interval [0, 1]. `cmap`: The colormap is used to map normalized data values to RGBA colors. Matplotlib has already defined many color maps, which we can use by calling plt. `get_cmap() `with a name as the parameter. . import matplotlib.pyplot as plt import matplotlib.colors fig, axe = plt.subplots(dpi=800, figsize=(12, 2)) fig.subplots_adjust(bottom=0.5) cmap = plt.get_cmap(&quot;viridis&quot;, 5) norm = matplotlib.colors.Normalize(vmin=0, vmax=1) cmapper = matplotlib.cm.ScalarMappable(norm=norm, cmap=cmap) cmapper.set_array([]) fig.colorbar(cmapper, cax=axe, orientation=&#39;horizontal&#39;, label=&quot;viridis colormap&quot;) . &lt;matplotlib.colorbar.Colorbar at 0x7f404d6ff898&gt; . import matplotlib.pyplot as plt import matplotlib.colors fig, axe = plt.subplots(dpi=800, figsize=(10, 2)) fig.subplots_adjust(bottom=0.5) cmap = plt.get_cmap(&quot;viridis&quot;) norm = matplotlib.colors.Normalize(vmin=0, vmax=1) cmapper = matplotlib.cm.ScalarMappable(norm=norm, cmap=cmap) cmapper.set_array([]) fig.colorbar(cmapper, cax=axe, orientation=&#39;horizontal&#39;, label=&quot;viridis colormap&quot;) . &lt;matplotlib.colorbar.Colorbar at 0x7f4050872e80&gt; . 3D Plots . Matplotlib provides many functions for drawing 3D plots. However, we will only focus on one of them in this course: the surface plot. A three-dimensional graph is essentially a plot of points in three dimensions, with data points that are triples (x,y,z)(x,y,z)(x,y,z). A surface plot is like a wireframe plot, but each face of the wireframe is a filled polygon. We can also add a colormap to the surface plot, which can aid in the perception of the topology of the surface . The basic function to plot a surface is plot_surface(). Below are some of its important parameters: . X, Y, Z: 2D arrays, the data values. | rcount, ccount: The maximum number of samples used in each direction. If the input data is large, it will downsample the data. | cmap: Sets the colormap of the surface patches. | color: Sets the color of the surface patches. | norm: Sets the normalization for the colormap. | . Notice: . In order to draw a 3D plot, we must import Axes3D from mpl_toolkits.mplot3d, like at line 1 in the example code below. This import registers the 3D projection, but is otherwise unused. | We need to set the projection=&#39;3d&#39; for our axes like at line 13. Otherwise, the code will fail. | The meshgird helps us generate all (x,y)(x,y)(x,y) pairs based on our x, y space. In short, the function creates a cartesian set for the cos(sqrt(x2+y2))cos(sqrt(x^2 + y^2))cos(sqrt(x​2​​+y​2​​)) at line 9 and 10. | . from mpl_toolkits.mplot3d import Axes3D # required X = np.linspace(-5,5,200) Y = np.linspace(-5,5,200) X,Y = np.meshgrid(X,Y) Z = np.cos(np.sqrt(X**2+Y**2)) fig,ax = plt.subplots(dpi=200) ax = fig.gca(projection=&#39;3d&#39;) ax.plot_surface(X,Y,Z) plt.show() . /usr/local/lib/python3.6/dist-packages/ipykernel_launcher.py:9: UserWarning: Requested projection is different from current axis projection, creating new axis with requested projection. if __name__ == &#39;__main__&#39;: . Adding color bar to surface . from mpl_toolkits.mplot3d import Axes3D # required X = np.linspace(-5,5,200) Y = np.linspace(-5,5,200) X,Y = np.meshgrid(X,Y) Z = np.cos(np.sqrt(X**2+Y**2)) fig,ax = plt.subplots(dpi=200) ax = fig.gca(projection=&#39;3d&#39;) surface = ax.plot_surface(X,Y,Z,cmap=plt.get_cmap(&#39;plasma&#39;)) plt.colorbar(surface) plt.show() . /usr/local/lib/python3.6/dist-packages/ipykernel_launcher.py:9: UserWarning: Requested projection is different from current axis projection, creating new axis with requested projection. if __name__ == &#39;__main__&#39;: . Fill between curves . In order to draw a confidence region, the basic function to call is fill_between(). Below are some of the important parameters required by the function: . x : The x coordinates of the nodes defining the curves. | y1 : The y coordinates of the nodes defining the first curve. | y2 : The y coordinates of the nodes defining the second curve. | where : Array of bool. Defines where to exclude some horizontal regions from being filled. For example, fill between x[i] and x[i+1] if where[i] and where[i+1] is True. | . x = np.linspace(-5,5,200) y1 = np.sin(x) fig,ax = plt.subplots(dpi=100) ax.plot(x,y1) ax.fill_between(x,y1,color=&#39;green&#39;,alpha=0.4) . &lt;matplotlib.collections.PolyCollection at 0x7f404d20cef0&gt; . x = np.linspace(-5,5,200) y1 = np.sin(x) fig,ax = plt.subplots(dpi=100) ax.plot(x,y1,color=&#39;black&#39;) ax.fill_between(x,y1,where=(y1&gt;0),color=&#39;green&#39;,alpha=0.4) ax.fill_between(x,y1,where=(y1&lt;0),color=&#39;red&#39;,alpha=0.4) . &lt;matplotlib.collections.PolyCollection at 0x7f404d3bb1d0&gt; . How to draw a confidence band . We will be able to draw a confidence band if we follow the steps below: . Step 1: Prepare the data that we need. In the example code below, our data is x and y at line 4 and line 5. . Step 2: Fit our data. NumPy provides the useful function polyfit. On our linear data set, we can fit a slope and an intercept, which we’ve done with a and b at line 7. . Notice: polyfit is a least squares polynomial fit, which it a polynomial p(x) = p[0] x^{0} + p[1]x^{1} ... +p[n] to points (x, y). Polyfit returns a vector of coefficients, pp, that minimizes the squared error. More details can be found on the official Matplotlib site. . Step 3: Get an estimation curve based on a and b, which we’ve done with y_est at line 8. . Step 4: Get the error, which we’ve done with y_err at line 9. . Step 5: Draw the plot by using fill_between(). The band is between $ y _est - y _erry_est−y_err and y _est + y _erry_est+y_err$ which we’ve set at line 14. . x = np.linspace(0, 10, 11) y = [3.9, 4.4, 10.8, 10.3, 11.2, 13.1, 14.1, 9.9, 13.9, 15.1, 12.5] # step 2 a,b = np.polyfit(x,y,1) # step 3 y_est = a * x + b # set 4 y_err = x.std() * np.sqrt((x - x.mean())**2 / np.sum((x - x.mean())**2) + (1/len(x))) # step 4 fig,ax = plt.subplots(dpi=100) ax.plot(x,y_est,&#39;-&#39;) ax.fill_between(x, y_est - y_err, y_est + y_err, alpha=0.2) ax.scatter(x,y) plt.show() . Stacked Plot . The idea of stack plots is to show “parts to a whole” over time; basically, it&#39;s like a pie-chart, only over time. Stack plots are mainly used to see various trends in variables over a specific period of time. . Properties . stackplot() is the basic function that Matplotlib provides to create a stack plot. Below are some of the important parameters required by the function: . x: 1d array of dimension $N$. . y: 2d array, dimension$(M times M)$,or a sequence of arrays. Each dimension is $1 times N$. . stackplot(x, y) stackplot(x, y1, y2, y3) . baseline: The method used to calculate the baseline. . zero a constant zero baseline, which is the default setting. | sym sets the plot symmetrically around zero. | wiggle minimizes the sum of the squared slopes. | . colors: Provides a list of colors for each data set. . x = [1, 2, 3, 4, 5] y = [1, 2, 4, 8, 16] y1 = y+np.random.randint(1,5,5) y2 = y+ np.random.randint(1,5,5) y3 = y+np.random.randint(1,5,5) y4 = y+np.random.randint(1,5,5) y5 = y+np.random.randint(1,5,5) y6 = y+np.random.randint(1,5,5) labels = [&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;] fig,ax = plt.subplots(dpi=200) ax.stackplot(x,y,y1,y2,y3,y4,y5,y6,labels=[&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;]) ax.set_xticks(x) ax.set_xticklabels(labels) ax.legend(loc=&#39;upper left&#39;) . &lt;matplotlib.legend.Legend at 0x7f404d0e19e8&gt; . Different baseline . In the example above, the baseline we used is zero, which is the default option. In the example below, we will learn about the other two options, sym and wiggle. In order the change the position of the baseline, we pass the corresponding string to the parameter baseline. . np.random.seed(42) x = [1, 2, 3, 4, 5] y = [1, 2, 4, 8, 16] y1 = y+np.random.randint(1,5,5) y2 = y+ np.random.randint(1,5,5) y3 = y+np.random.randint(1,5,5) y4 = y+np.random.randint(1,25,5) y5 = y+np.random.randint(1,15,5) y6 = y+np.random.randint(1,20,5) labels = [&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;] fig, axe = plt.subplots(nrows=2, dpi=200) plt.tight_layout() axe[0].stackplot(x, y, y1, y2, y3, y4, y5, y6, baseline=&quot;sym&quot;) axe[0].set_xticks(x) axe[0].set_xticklabels(labels) axe[0].set_title(&quot;symmetric&quot;) axe[1].stackplot(x, y, y1, y2, y3, y4, y5, y6, baseline=&quot;wiggle&quot;) axe[1].set_xticks(x) axe[1].set_xticklabels(labels) axe[1].set_title(&quot;wiggle&quot;) . Text(0.5, 1.0, &#39;wiggle&#39;) .",
            "url": "https://isbhargav.github.io/portfolio/jupyter/matplotlib/2020/11/15/Matplotlib2.html",
            "relUrl": "/jupyter/matplotlib/2020/11/15/Matplotlib2.html",
            "date": " • Nov 15, 2020"
        }
        
    
  
    
        ,"post1": {
            "title": "Matplotlib Guide - p1",
            "content": "What is Matplotlib? . Matplotlib is a plotting library for the Python programming language and its numerical mathematics extension, NumPy. Matplotlib is a powerful and widely used library that provides an object-oriented API for embedding plots into applications using general-purpose GUI toolkits like Tkinter, wxPython, Qt, or GTK+. . This Notebook covers following topics: . Plot charts, individually and in multiples. | Set the Tick, Text, Legend, and Annotate elements of a plot. | Customize the Grid and Spine displays of a plot. | Set the colors for different elements of a plot | Customize the style and appearance of different plot components. | Choose different chart types based on data type and requirement. | Show the distribution of data. | Show the relationship between different variables. | Plot data in 2D and 3D. | . . Anotomy of matplotlib . Figure . The whole Figure, which is marked by the red box, is like a canvas. Everything that we want to draw will be on this canvas. The figure can contain one or more axes plots. Regardless of how many we draw, the figure controls all of the axes. . Axes . The axes are marked by the blue box. They are where the data will appear. While one figure can contain more than one axes, the axes can only belong to one figure. . Axis . The x-axis and the y-axis, both circled in green, are number-line-like objects. They set the graph limits and generate the ticks (the marks on the axis) and the tick labels (the strings labeling the ticks). . Artist . Artist is the collection of objects that know how to use a renderer to paint the canvas or figure. Artist encompasses many objects, such as the title, legend, axis, spine, grid, and tick . . import numpy as np import matplotlib.pyplot as plt plt.style.use(&#39;ggplot&#39;) %matplotlib inline . How to Draw a figure? . To draw a figure in matplotlib you need to follow these basic steps in folowing order . Create dataset | Create canvas | Add data to axes | Show figure | points = np.linspace(-5,5,256) y1 = np.tanh(points) + 0.5 y2 = np.sin(points) - 0.2 # 2. Create canvas/figure fig,ax = plt.subplots(1,1,figsize=(15,9)) # 3. Add data to axes (x,y) ax.hlines(0,-6,6) ax.plot(points,y1,label=&quot;tanh&quot;) ax.plot(points,y2,color=&quot;green&quot;,marker=&#39;.&#39;,linestyle=&#39;dashed&#39;,label=&quot;sin&quot;) # 4. Show the figure plt.show() # To save the image use following lines # fig.savefig(&#39;output/to.png&#39;) # plt.close(fig) . What are ticks? . Ticks are the marks on the x and y axis of the plot. The tick can be a number, a string, or any other notation. When plotting a graph, the axes will set a default tick based on the number ranges of the different axes. . The following are some properties that we can manipulate by setting parameters: . which: Sets the x/y major/minor ticks. The default value is major. | color: Sets the tick color. | labelrotation: Rotates the tick label. | width: Sets the tick width in points. | length: Sets the tick length in points. | direction: Sets the direction of the ticks, either towards the axis or away from it. The default value is out. | . points = np.linspace(-5, 5, 256) y1 = np.tanh(points) + 0.5 y2 = np.sin(points) - 0.2 fig,ax = plt.subplots(dpi=600,figsize=(15,9)) ax.plot(points,y1) ax.plot(points,y2) # Set x Tick ax.set_xticks(np.linspace(-5,5,9)) plt.show() . Changing tick parmas with tick_params() . points = np.linspace(-5, 5, 256) y1 = np.tanh(points) + 0.5 y2 = np.sin(points) - 0.2 fig,ax = plt.subplots(nrows=1,ncols=2,dpi=400,figsize=(10,6)) ax[0].plot(points,y1) ax[0].plot(points,y2) ax[0].set_title(&quot;Original&quot;) ax[1].plot(points,y1) ax[1].plot(points,y2) ax[1].set_title(&quot;Pretty&quot;) ax[1].set_xticks(np.linspace(-5,5,9)) ax[1].tick_params(color=&#39;b&#39;,length=5, width=2,direction=&#39;in&#39;) plt.show() . What is the spine? . Spines are lines that connect the axis tick marks to one another. Spines also note the boundaries of the data area. They can be placed in any position we want. By default, they are the boundary of the entire axes. So, for an axes, we have four spines: . top | bottom | left | right | . set_position() accepts a tuple of (position type, amount) as parameter. The position type has the following types. . axes: places the spine at the specified axes coordinate (from 0.0-1.0) | data: places the spine at the specified data coordinate. | outward: places the spine out from the data area by the specified number of points. | . points = np.linspace(-5, 5, 256) y1 = np.tanh(points) + 0.5 y2 = np.sin(points) - 0.2 fig,ax = plt.subplots(dpi=200) ax.plot(points,y1) ax.plot(points,y2) ax.set_xticks(np.linspace(-5,5,9)) ax.spines[&#39;top&#39;].set_color(&#39;none&#39;) ax.spines[&#39;right&#39;].set_color(&#39;none&#39;) ax.spines[&#39;left&#39;].set_position((&#39;data&#39;,0)) ax.spines[&#39;left&#39;].set_color(&#39;black&#39;) ax.spines[&#39;bottom&#39;].set_position((&#39;axes&#39;,0.5)) # we could use (data,0) ax.spines[&#39;bottom&#39;].set_color(&#39;black&#39;) plt.show() . points = np.linspace(-5, 5, 256) y1 = np.tanh(points) + 0.5 y2 = np.sin(points) - 0.2 fig, axe = plt.subplots(nrows=1, ncols=2, figsize=(14, 3.5), dpi=400) axe[0].plot(points, y1) axe[0].plot(points, y2) axe[1].plot(points, y1) axe[1].plot(points, y2) axe[1].set_xticks(np.linspace(-5, 5, 7)) axe[1].tick_params(width=0.5, colors=&#39;b&#39;) axe[1].spines[&#39;right&#39;].set_color(&#39;none&#39;) axe[1].spines[&#39;top&#39;].set_color(&#39;none&#39;) axe[1].spines[&#39;left&#39;].set_position((&#39;data&#39;, 0)) axe[1].spines[&#39;bottom&#39;].set_position((&#39;axes&#39;, 0.5)) ax.spines[&#39;left&#39;].set_color(&#39;black&#39;) ax.spines[&#39;bottom&#39;].set_color(&#39;black&#39;) . What is legend? . A legend provides a description for an element in the figure. A legend helps the user understand a figure when the figure contains many elements. . fig,(ax1,ax2) = plt.subplots(1,2,dpi=200,figsize=(10,6)) ax1.plot(points,y1) ax1.plot(points,y2) ax2.plot(points,y1,label=&quot;tanh&quot;) ax2.plot(points,y2,label=&quot;sin&quot;) ax2.legend() plt.show() . Customizing legend properties . As with other elements in a figure, legend supports many customizable properties, including location, display style, box style, and shadow. The following are some of the most used properties: . loc: The location of the legend. The most important and commonly used attribute. The strings &#39;upper left&#39;, &#39;upper right&#39;, &#39;lower left&#39;, &#39;lower right&#39; place the legend at the corresponding corner of the axes/figure. The strings &#39;upper center&#39;, &#39;lower center&#39;, &#39;center left&#39;, &#39;center right&#39; place the legend at the center of the corresponding edge of the axes/figure. | fontsize: The font size of the legend. | ncol: The number of columns that the legend will have. The default value is 1. | frameon: Controls whether the legend will be drawn with frame. | shadow: Controls whether a shadow will be drawn behind the legend. | title: Sets a title for the legend. | facecolor: Sets the legend’s background color. | edgecolor: Sets the legend’s frame color. | . ax.legend(loc=&#39;upper center&#39;, title=&quot;This is a legend&quot;, shadow=True, ncol=2, facecolor=&#39;r&#39;) . fig, axe = plt.subplots(nrows=1, ncols=2, dpi=800, figsize=(12, 4)) axe[0].plot(points, y1) axe[0].plot(points, y2) axe[0].set_xticks(np.linspace(-5, 5, 9)) axe[0].tick_params(width=2, colors=&#39;b&#39;) axe[0].spines[&#39;right&#39;].set_color(&#39;none&#39;) axe[0].spines[&#39;top&#39;].set_color(&#39;none&#39;) axe[0].spines[&#39;left&#39;].set_position((&#39;data&#39;, 0)) axe[0].spines[&#39;bottom&#39;].set_position((&#39;axes&#39;, 0.5)) axe[1].plot(points, y1, label=&quot;tanh&quot;) axe[1].plot(points, y2, label=&quot;sin&quot;) axe[1].set_xticks(np.linspace(-5, 5, 9)) axe[1].tick_params(width=2, colors=&#39;b&#39;) axe[1].spines[&#39;right&#39;].set_color(&#39;none&#39;) axe[1].spines[&#39;top&#39;].set_color(&#39;none&#39;) axe[1].spines[&#39;left&#39;].set_position((&#39;data&#39;, 0)) axe[1].spines[&#39;bottom&#39;].set_position((&#39;axes&#39;, 0.5)) ax.spines[&#39;left&#39;].set_color(&#39;black&#39;) ax.spines[&#39;bottom&#39;].set_color(&#39;black&#39;) axe[1].legend(loc=&quot;upper left&quot;,frameon=False ) plt.show() . What is annotate? . Annotate is a piece of text that identifies a specific data point on a graph, designed to help users understand charts. For example, annotate can be used to give a detailed explanation of the inflection point of a chart. . Adding a basic annotation . xy : The point (x, y) to be annotated, which is a tuple. | xytext : The position (x,y) where the text will appear. None defaults to xy. | xycoords : The coordinate system that xy is given in.(xycoords=‘data’ ) | textcoords : The coordinate system that xytext is given in. | arrowprops : The properties used to draw an arrow between xy and xytext. | . fig,ax = plt.subplots(dpi=200) ax.plot(points,y1) ax.plot(points,y2) ax.annotate(&quot;1.464=tanh(2)+0.5&quot;,xy=(2,1.468),xycoords=&quot;data&quot;,xytext=(0.4,-40),textcoords=&#39;offset points&#39;,arrowprops=dict(arrowstyle=&quot;-&gt;&quot;,color=&quot;black&quot;, connectionstyle=&quot;arc3,rad=.5&quot;)) . Text(0.4, -40, &#39;1.464=tanh(2)+0.5&#39;) . Changing the style of the annotation by using bbox . we’ve set the border to have rounded corners by using boxstyle=&quot;round&quot;. . The fc stands for fore color, which we’ve set as invisible. . The ec stands for edge color, which we’ve set to gray. . fig, axe = plt.subplots(dpi=800, figsize=(9, 5)) axe.plot(points, y1) axe.plot(points, y2) axe.legend([&quot;tanh&quot;, &quot;sin&quot;]) axe.annotate(&quot;style1&quot;, xy=(2, 1.464), xycoords=&quot;data&quot;, xytext=(0.4, -40), textcoords=&#39;offset points&#39;, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.5&quot;,color=&quot;black&quot;), bbox=dict(boxstyle=&quot;round&quot;, fc=&quot;none&quot;, ec=&quot;gray&quot;)) axe.annotate(&quot;style2&quot;, xy=(2, 1.464), xycoords=&quot;data&quot;, xytext=(-200, -40), textcoords=&#39;offset points&#39;, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.5&quot;,color=&quot;black&quot;), bbox=dict(boxstyle=&quot;round&quot;, alpha=0.1),) axe.annotate(&quot;style3&quot;, xy=(2, 1.464), xycoords=&quot;data&quot;, xytext=(-160, -80), textcoords=&#39;offset points&#39;, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.5&quot;,color=&quot;black&quot;), bbox=dict(boxstyle=&quot;round4,pad=.5&quot;, fc=&quot;0.3&quot;)) . Text(-160, -80, &#39;style3&#39;) . What is text? . Text is basically a simpler version of annotate. Unlike annotate, we don’t need to anchor our text to one specific data location. . text(0.5, 0.5, &#39;function&#39;, horizontalalignment=&#39;center&#39;,verticalalignment=&#39;center&#39;, transform=ax.transAxes) . If we want to put a frame around the text, we can use the option bbox. The example code below adds a box with a red background to our text. . text(10, 20, &quot;function&quot;, bbox=dict(facecolor=&#39;red&#39;, alpha=0.5)) . fig, axe = plt.subplots(figsize=(7, 3.5), dpi=300) axe.plot(points, y1) axe.plot(points, y2) axe.legend([&quot;tanh&quot;, &quot;sin&quot;]) axe.text(-2.5, 0.5, &quot;two function nOne nTwo&quot;, bbox=dict(facecolor=&#39;red&#39;, alpha=0.5)) plt.show() . fig, axe = plt.subplots(figsize=(7, 3.5), dpi=800) axe.plot(points, y1) axe.plot(points, y2) axe.legend([&quot;tanh&quot;, &quot;sin&quot;]) eq = r&quot;$ int_a^b{ sin(x)} dx$&quot; font = {&#39;family&#39;: &#39;serif&#39;, &#39;color&#39;: &#39;darkred&#39;, &#39;weight&#39;: &#39;normal&#39;, &#39;size&#39;: 16, } axe.text(-3, 0.18, eq, font) . Text(-3, 0.18, &#39;$ int_a^b{ sin(x)} dx$&#39;) . What is grid? . The grid consists of lines that connect to each of the ticks that we have set. These lines help the user locate the curve in the diagram more quickly, making the image more readable. . fig, axe = plt.subplots(figsize=(7, 3.5), dpi=300) axe.plot(points, y1) axe.plot(points, y2) axe.legend([&quot;tanh&quot;, &quot;sin&quot;]) axe.annotate(&quot;1.464=tanh(2)+0.5&quot;, xy=(2, 1.464), xycoords=&quot;data&quot;, xytext=(0.4, -40), textcoords=&#39;offset points&#39;, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.5&quot;)) axe.minorticks_on() axe.grid(which=&#39;major&#39;, linestyle=&#39;-&#39;, linewidth=&#39;0.5&#39;, color=&#39;blue&#39;) axe.grid(which=&#39;minor&#39;, linestyle=&#39;:&#39;, linewidth=&#39;0.5&#39;, color=&#39;red&#39;) . Adding a title for the axes . fig, axe = plt.subplots(figsize=(7, 3.5), dpi=300) axe.plot(points, y1) axe.plot(points, y2) axe.legend([&quot;tanh&quot;, &quot;sin&quot;]) axe.set_title(&quot;two functions&quot;) axe.set_title(&quot;two functions left&quot;, loc=&quot;left&quot;) axe.set_title(&quot;two functions right&quot;, loc=&quot;right&quot;) . Text(1.0, 1.0, &#39;two functions right&#39;) . fig, axe = plt.subplots(1,2, figsize=(14, 3.5), dpi=300) axe[0].plot(points, y1) axe[0].set_title(&quot;tanh functions&quot;) axe[1].plot(points, y2) axe[1].set_title(&quot;sin functions&quot;) fig.suptitle(&quot;tanh &amp; sin function&quot;) . Text(0.5, 0.98, &#39;tanh &amp; sin function&#39;) . Placing Multiple Plots onto One Figure Using Subplots . In order to prevent clipping, we can call plt.tight_layout(). The constrained layout helps us adjust our elements to fit them comfortably onto the figure. . fig, axe = plt.subplots(nrows=2, ncols=2, dpi=800) plt.tight_layout() axe[1][0].set_title(&quot;the third subplot&quot;) axe[1][1].set_title(&quot;the forth subplot&quot;) . Text(0.5, 1.0, &#39;the forth subplot&#39;) . Colors . Different ways to specify colors . x = np.linspace(-4, 4, 200) fig, axe = plt.subplots(dpi=300) # RGB axe.plot(x, x + 2, color=(0.1, 0.6, 1.0), label=&quot;RGB&quot;) # HEX RGB axe.plot(x, x + 3, color=&quot;#6F4F3F&quot;, label=&quot;Hex&quot;) # single color letter axe.plot(x, x + 4, color=&#39;r&#39;, label=&quot;single letter&quot;) # color name axe.plot(x, x + 5, color=&#39;green&#39;, label=&quot;color name&quot;) # Tableau color axe.plot(x, x + 6, color=&#39;tab:olive&#39;, label=&quot;Tableau&quot;) # gray level axe.plot(x, x + 7, color=&#39;0.7&#39;, label=&quot;gray level&quot;) . [&lt;matplotlib.lines.Line2D at 0x7fde586af978&gt;] .",
            "url": "https://isbhargav.github.io/portfolio/jupyter/matplotlib/2020/11/14/matplotlib_p1.html",
            "relUrl": "/jupyter/matplotlib/2020/11/14/matplotlib_p1.html",
            "date": " • Nov 14, 2020"
        }
        
    
  
    
        ,"post2": {
            "title": "EDA on Vancouver City Crime dataset",
            "content": "import pandas as pd from datetime import datetime import matplotlib.pyplot as plt import seaborn as sns import plotly.graph_objects as go # Read the dataset df = pd.read_csv(&quot;crimedata_csv_all_years.csv&quot;) # Create a Date column df[&#39;DATE&#39;] = pd.to_datetime(df[[&#39;YEAR&#39;,&#39;MONTH&#39;,&#39;DAY&#39;]]) # Create a new feature &quot;Weekday&quot; df[&#39;WEEKDAY&#39;] = df[&#39;DATE&#39;].dt.dayofweek print(df.head()) . Get all the unique neighbourhoods in Vancouver City . print(df[&#39;NEIGHBOURHOOD&#39;].unique()) . [&#39;Oakridge&#39; &#39;Fairview&#39; &#39;West End&#39; &#39;Central Business District&#39; &#39;Hastings-Sunrise&#39; &#39;Strathcona&#39; &#39;Grandview-Woodland&#39; &#39;Kitsilano&#39; &#39;Kensington-Cedar Cottage&#39; &#39;Sunset&#39; &#39;Mount Pleasant&#39; &#39;Stanley Park&#39; &#39;Shaughnessy&#39; &#39;Marpole&#39; &#39;West Point Grey&#39; &#39;Victoria-Fraserview&#39; &#39;Kerrisdale&#39; &#39;Riley Park&#39; &#39;Arbutus Ridge&#39; &#39;Renfrew-Collingwood&#39; &#39;Killarney&#39; &#39;Dunbar-Southlands&#39; &#39;South Cambie&#39; &#39;Musqueam&#39; nan] . count_df = df[&#39;HOUR&#39;].value_counts() city_count = count_df[:,] plt.figure(figsize=(12,5)) sns.barplot(count_df.index, count_df.values, alpha=1) plt.title(&#39;Crime occurence at different time of the day&#39;) plt.ylabel(&#39;Number of Occurrences&#39;, fontsize=12) plt.xlabel(&#39;Hour&#39;, fontsize=12) plt.show() . for column in df: print(df[column].isna().value_counts()) . False 619574 Name: TYPE, dtype: int64 False 619574 Name: YEAR, dtype: int64 False 619574 Name: MONTH, dtype: int64 False 619574 Name: DAY, dtype: int64 False 619574 Name: HOUR, dtype: int64 False 619574 Name: MINUTE, dtype: int64 False 619561 True 13 Name: HUNDRED_BLOCK, dtype: int64 False 555000 True 64574 Name: NEIGHBOURHOOD, dtype: int64 False 619455 True 119 Name: X, dtype: int64 False 619455 True 119 Name: Y, dtype: int64 False 619574 Name: DATE, dtype: int64 False 619574 Name: WEEKDAY, dtype: int64 . Frequency of each crime type . new_df = df.groupby(&#39;YEAR&#39;) print(df[&#39;TYPE&#39;].value_counts()) . Theft from Vehicle 207712 Mischief 83355 Break and Enter Residential/Other 66065 Other Theft 64087 Offence Against a Person 61706 Theft of Vehicle 41394 Break and Enter Commercial 38645 Theft of Bicycle 30887 Vehicle Collision or Pedestrian Struck (with Injury) 25183 Vehicle Collision or Pedestrian Struck (with Fatality) 289 Homicide 251 Name: TYPE, dtype: int64 . nameplot = df[&#39;NEIGHBOURHOOD&#39;].value_counts().plot.bar(title=&#39;Count of each type of crime happened in Vancouver&#39;, figsize=(12,6)) nameplot.set_xlabel(&#39;category&#39;,size=20) nameplot.set_ylabel(&#39;crime count&#39;,size=20) . Text(0, 0.5, &#39;crime count&#39;) . Finding crime reported in each weekday . count_df = df[&#39;WEEKDAY&#39;].value_counts() city_count = count_df[:,] sns.barplot(count_df.index, count_df.values, alpha=1) plt.title(&#39;Crime occurence on different days of the week&#39;) plt.ylabel(&#39;Number of Occurrences&#39;, fontsize=12) plt.xlabel(&#39;Day of the week&#39;, fontsize=12) plt.show() . # year labels year_labels = sorted(df[&quot;YEAR&quot;].unique()) # crime types crime_types = sorted(df[&quot;TYPE&quot;].unique().tolist()) crime_count_by_year = pd.DataFrame(columns =[&quot;year&quot;]) crime_count_by_year[&quot;year&quot;] = year_labels crime_count_by_year for current_type in crime_types: current_crime = df[df[&quot;TYPE&quot;]==current_type] current_crime_counts = current_crime[&quot;YEAR&quot;].value_counts(sort=False) current_crime_index = current_crime_counts.index.tolist() current_crime_index, current_crime_counts = zip(*sorted(zip(current_crime_index, current_crime_counts))) crime_count_by_year[current_type] = current_crime_counts crime_count_by_year crime_types = sorted(df[&quot;TYPE&quot;].unique().tolist()) fig = go.Figure() for current_crime in crime_types: current_type_count = crime_count_by_year[current_crime] fig.add_trace( go.Scatter( x=year_labels, y=current_type_count, mode=&#39;lines+markers&#39;, name=current_crime ) ) fig.update_layout(title=&#39;Crimes Over the Years in Vancouver by Type&#39;, xaxis_title=&#39;Year&#39;, yaxis_title=&#39;Absolute Change&#39;, autosize=True, height=570 ) fig.update_layout(legend_orientation=&quot;h&quot;) fig.show() . new_df = df.groupby(&#39;YEAR&#39;) df2 = df[&#39;TYPE&#39;].value_counts() crime_types = df2.index new_df = df.groupby(&#39;TYPE&#39;) for value in crime_types: df1 = new_df.get_group(value) count_df = df1[&#39;YEAR&#39;].value_counts() plt.figure(figsize=(8.5,5)) sns.barplot(count_df.index, count_df.values, alpha=1) plt.title(value) plt.ylabel(&#39;Number of Occurrences&#39;, fontsize=12) plt.xlabel(&#39;Year&#39;, fontsize=12) plt.show() . Index([&#39;Theft from Vehicle&#39;, &#39;Mischief&#39;, &#39;Break and Enter Residential/Other&#39;, &#39;Other Theft&#39;, &#39;Offence Against a Person&#39;, &#39;Theft of Vehicle&#39;, &#39;Break and Enter Commercial&#39;, &#39;Theft of Bicycle&#39;, &#39;Vehicle Collision or Pedestrian Struck (with Injury)&#39;, &#39;Vehicle Collision or Pedestrian Struck (with Fatality)&#39;, &#39;Homicide&#39;], dtype=&#39;object&#39;) .",
            "url": "https://isbhargav.github.io/portfolio/jupyter/matplotlib/eda/2020/11/01/Exploratory_Analysis.html",
            "relUrl": "/jupyter/matplotlib/eda/2020/11/01/Exploratory_Analysis.html",
            "date": " • Nov 1, 2020"
        }
        
    
  
    
        ,"post3": {
            "title": "Fastpages Notebook Blog Post",
            "content": "About . This notebook is a demonstration of some of capabilities of fastpages with notebooks. . With fastpages you can save your jupyter notebooks into the _notebooks folder at the root of your repository, and they will be automatically be converted to Jekyll compliant blog posts! . Front Matter . The first cell in your Jupyter Notebook or markdown blog post contains front matter. Front matter is metadata that can turn on/off options in your Notebook. It is formatted like this: . # &quot;My Title&quot; &gt; &quot;Awesome summary&quot; - toc:true- branch: master- badges: true- comments: true - author: Hamel Husain &amp; Jeremy Howard - categories: [fastpages, jupyter] . Setting toc: true will automatically generate a table of contents | Setting badges: true will automatically include GitHub and Google Colab links to your notebook. | Setting comments: true will enable commenting on your blog post, powered by utterances. | . The title and description need to be enclosed in double quotes only if they include special characters such as a colon. More details and options for front matter can be viewed on the front matter section of the README. . Markdown Shortcuts . A #hide comment at the top of any code cell will hide both the input and output of that cell in your blog post. . A #hide_input comment at the top of any code cell will only hide the input of that cell. . The comment #hide_input was used to hide the code that produced this. . put a #collapse-hide flag at the top of any cell if you want to hide that cell by default, but give the reader the option to show it: . import pandas as pd import altair as alt . . put a #collapse-show flag at the top of any cell if you want to show that cell by default, but give the reader the option to hide it: . cars = &#39;https://vega.github.io/vega-datasets/data/cars.json&#39; movies = &#39;https://vega.github.io/vega-datasets/data/movies.json&#39; sp500 = &#39;https://vega.github.io/vega-datasets/data/sp500.csv&#39; stocks = &#39;https://vega.github.io/vega-datasets/data/stocks.csv&#39; flights = &#39;https://vega.github.io/vega-datasets/data/flights-5k.json&#39; . . Interactive Charts With Altair . Charts made with Altair remain interactive. Example charts taken from this repo, specifically this notebook. . Example 1: DropDown . # use specific hard-wired values as the initial selected values selection = alt.selection_single( name=&#39;Select&#39;, fields=[&#39;Major_Genre&#39;, &#39;MPAA_Rating&#39;], init={&#39;Major_Genre&#39;: &#39;Drama&#39;, &#39;MPAA_Rating&#39;: &#39;R&#39;}, bind={&#39;Major_Genre&#39;: alt.binding_select(options=genres), &#39;MPAA_Rating&#39;: alt.binding_radio(options=mpaa)} ) # scatter plot, modify opacity based on selection alt.Chart(df).mark_circle().add_selection( selection ).encode( x=&#39;Rotten_Tomatoes_Rating:Q&#39;, y=&#39;IMDB_Rating:Q&#39;, tooltip=&#39;Title:N&#39;, opacity=alt.condition(selection, alt.value(0.75), alt.value(0.05)) ) . Example 2: Tooltips . alt.Chart(df).mark_circle().add_selection( alt.selection_interval(bind=&#39;scales&#39;, encodings=[&#39;x&#39;]) ).encode( alt.X(&#39;Rotten_Tomatoes_Rating&#39;, type=&#39;quantitative&#39;), alt.Y(&#39;IMDB_Rating&#39;, type=&#39;quantitative&#39;, axis=alt.Axis(minExtent=30)), # y=alt.Y(&#39;IMDB_Rating:Q&#39;, ), # use min extent to stabilize axis title placement tooltip=[&#39;Title:N&#39;, &#39;Release_Date:N&#39;, &#39;IMDB_Rating:Q&#39;, &#39;Rotten_Tomatoes_Rating:Q&#39;] ).properties( width=500, height=400 ) . Example 3: More Tooltips . label = alt.selection_single( encodings=[&#39;x&#39;], # limit selection to x-axis value on=&#39;mouseover&#39;, # select on mouseover events nearest=True, # select data point nearest the cursor empty=&#39;none&#39; # empty selection includes no data points ) # define our base line chart of stock prices base = alt.Chart().mark_line().encode( alt.X(&#39;date:T&#39;), alt.Y(&#39;price:Q&#39;, scale=alt.Scale(type=&#39;log&#39;)), alt.Color(&#39;symbol:N&#39;) ) alt.layer( base, # base line chart # add a rule mark to serve as a guide line alt.Chart().mark_rule(color=&#39;#aaa&#39;).encode( x=&#39;date:T&#39; ).transform_filter(label), # add circle marks for selected time points, hide unselected points base.mark_circle().encode( opacity=alt.condition(label, alt.value(1), alt.value(0)) ).add_selection(label), # add white stroked text to provide a legible background for labels base.mark_text(align=&#39;left&#39;, dx=5, dy=-5, stroke=&#39;white&#39;, strokeWidth=2).encode( text=&#39;price:Q&#39; ).transform_filter(label), # add text labels for stock prices base.mark_text(align=&#39;left&#39;, dx=5, dy=-5).encode( text=&#39;price:Q&#39; ).transform_filter(label), data=stocks ).properties( width=500, height=400 ) . Data Tables . You can display tables per the usual way in your blog: . df[[&#39;Title&#39;, &#39;Worldwide_Gross&#39;, &#39;Production_Budget&#39;, &#39;Distributor&#39;, &#39;MPAA_Rating&#39;, &#39;IMDB_Rating&#39;, &#39;Rotten_Tomatoes_Rating&#39;]].head() . Title Worldwide_Gross Production_Budget Distributor MPAA_Rating IMDB_Rating Rotten_Tomatoes_Rating . 0 The Land Girls | 146083.0 | 8000000.0 | Gramercy | R | 6.1 | NaN | . 1 First Love, Last Rites | 10876.0 | 300000.0 | Strand | R | 6.9 | NaN | . 2 I Married a Strange Person | 203134.0 | 250000.0 | Lionsgate | None | 6.8 | NaN | . 3 Let&#39;s Talk About Sex | 373615.0 | 300000.0 | Fine Line | None | NaN | 13.0 | . 4 Slam | 1087521.0 | 1000000.0 | Trimark | R | 3.4 | 62.0 | . Images . Local Images . You can reference local images and they will be copied and rendered on your blog automatically. You can include these with the following markdown syntax: . ![](my_icons/fastai_logo.png) . . Remote Images . Remote images can be included with the following markdown syntax: . ![](https://image.flaticon.com/icons/svg/36/36686.svg) . . Animated Gifs . Animated Gifs work, too! . ![](https://upload.wikimedia.org/wikipedia/commons/7/71/ChessPawnSpecialMoves.gif) . . Captions . You can include captions with markdown images like this: . ![](https://www.fast.ai/images/fastai_paper/show_batch.png &quot;Credit: https://www.fast.ai/2020/02/13/fastai-A-Layered-API-for-Deep-Learning/&quot;) . . Other Elements . GitHub Flavored Emojis . Typing I give this post two :+1:! will render this: . I give this post two :+1:! . Tweetcards . Typing &gt; twitter: https://twitter.com/jakevdp/status/1204765621767901185?s=20 will render this: Altair 4.0 is released! https://t.co/PCyrIOTcvvTry it with: pip install -U altairThe full list of changes is at https://t.co/roXmzcsT58 ...read on for some highlights. pic.twitter.com/vWJ0ZveKbZ . &mdash; Jake VanderPlas (@jakevdp) December 11, 2019 . Youtube Videos . Typing &gt; youtube: https://youtu.be/XfoYk_Z5AkI will render this: . Boxes / Callouts . Typing &gt; Warning: There will be no second warning! will render this: . Warning: There will be no second warning! . Typing &gt; Important: Pay attention! It&#39;s important. will render this: . Important: Pay attention! It&#8217;s important. . Typing &gt; Tip: This is my tip. will render this: . Tip: This is my tip. . Typing &gt; Note: Take note of this. will render this: . Note: Take note of this. . Typing &gt; Note: A doc link to [an example website: fast.ai](https://www.fast.ai/) should also work fine. will render in the docs: . Note: A doc link to an example website: fast.ai should also work fine. . Footnotes . You can have footnotes in notebooks, however the syntax is different compared to markdown documents. This guide provides more detail about this syntax, which looks like this: . For example, here is a footnote {% fn 1 %}. And another {% fn 2 %} {{ &#39;This is the footnote.&#39; | fndetail: 1 }} {{ &#39;This is the other footnote. You can even have a [link](www.github.com)!&#39; | fndetail: 2 }} . For example, here is a footnote 1. . And another 2 . 1. This is the footnote.↩ . 2. This is the other footnote. You can even have a link!↩ .",
            "url": "https://isbhargav.github.io/portfolio/jupyter/2020/02/20/test.html",
            "relUrl": "/jupyter/2020/02/20/test.html",
            "date": " • Feb 20, 2020"
        }
        
    
  
    
        ,"post4": {
            "title": "An Example Markdown Post",
            "content": "Example Markdown Post . Basic setup . Jekyll requires blog post files to be named according to the following format: . YEAR-MONTH-DAY-filename.md . Where YEAR is a four-digit number, MONTH and DAY are both two-digit numbers, and filename is whatever file name you choose, to remind yourself what this post is about. .md is the file extension for markdown files. . The first line of the file should start with a single hash character, then a space, then your title. This is how you create a “level 1 heading” in markdown. Then you can create level 2, 3, etc headings as you wish but repeating the hash character, such as you see in the line ## File names above. . Basic formatting . You can use italics, bold, code font text, and create links. Here’s a footnote 1. Here’s a horizontal rule: . . Lists . Here’s a list: . item 1 | item 2 | . And a numbered list: . item 1 | item 2 | Boxes and stuff . This is a quotation . . You can include alert boxes …and… . . You can include info boxes Images . . Code . You can format text and code per usual . General preformatted text: . # Do a thing do_thing() . Python code and output: . # Prints &#39;2&#39; print(1+1) . 2 . Formatting text as shell commands: . echo &quot;hello world&quot; ./some_script.sh --option &quot;value&quot; wget https://example.com/cat_photo1.png . Formatting text as YAML: . key: value - another_key: &quot;another value&quot; . Tables . Column 1 Column 2 . A thing | Another thing | . Tweetcards . Altair 4.0 is released! https://t.co/PCyrIOTcvvTry it with: pip install -U altairThe full list of changes is at https://t.co/roXmzcsT58 ...read on for some highlights. pic.twitter.com/vWJ0ZveKbZ . &mdash; Jake VanderPlas (@jakevdp) December 11, 2019 Footnotes . This is the footnote. &#8617; . |",
            "url": "https://isbhargav.github.io/portfolio/markdown/2020/01/14/test-markdown-post.html",
            "relUrl": "/markdown/2020/01/14/test-markdown-post.html",
            "date": " • Jan 14, 2020"
        }
        
    
  

  
  

  
      ,"page1": {
          "title": "About Me",
          "content": "This website is powered by fastpages 1. . a blogging platform that natively supports Jupyter notebooks in addition to other formats. &#8617; . |",
          "url": "https://isbhargav.github.io/portfolio/about/",
          "relUrl": "/about/",
          "date": ""
      }
      
  

  

  
  

  

  
  

  

  
  

  
  

  
  

  
      ,"page10": {
          "title": "",
          "content": "Sitemap: {{ “sitemap.xml” | absolute_url }} | .",
          "url": "https://isbhargav.github.io/portfolio/robots.txt",
          "relUrl": "/robots.txt",
          "date": ""
      }
      
  

}